{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
    <h2>Candidate Dashboard</h2>

    <!-- Browse Jobs button -->
    <a href="{% url 'job_list' %}" class="btn btn-info mb-3">Browse Jobs</a>

    <!-- Applications Table -->
    <h3>Your Applications</h3>
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Job</th>
          <th>Status</th>
          <th>Applied On</th>
        </tr>
      </thead>
      <tbody>
        {% for app in applications %}
        <tr>
          <td>{{ app.job.title }}</td>
          <td>
            {% if app.status == "pending" %}
              <span class="badge bg-warning">Pending</span>
            {% elif app.status == "selected" %}
              <span class="badge bg-success">Selected ✅</span>
            {% elif app.status == "rejected" %}
              <span class="badge bg-danger">Rejected ❌</span>
            {% endif %}
          </td>
          <td>{{ app.applied_on|date:"M d, Y H:i" }}</td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="3" class="text-center">No applications yet.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
</div>
{% endblock %}
